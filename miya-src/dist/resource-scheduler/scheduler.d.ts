import type { ResourceLease, ResourceRequest, ResourceSchedulerOptions, ResourceSchedulerSnapshot, VramBudgetPlan } from './types';
export declare class ResourceScheduler {
    private readonly projectDir;
    private readonly totalVramMB;
    private readonly safetyMarginMB;
    private readonly maxConcurrentTasks;
    private readonly hotsetModelIDs;
    private readonly warmPool;
    private readonly warmPoolLimit;
    private readonly isolateTrainingLane;
    private readonly queue;
    private readonly active;
    private readonly loadedModels;
    private readonly currentModelByKind;
    private usedVramMB;
    private draining;
    constructor(projectDir: string, options?: ResourceSchedulerOptions);
    acquire(request: ResourceRequest): Promise<ResourceLease>;
    withLease<T>(request: ResourceRequest, run: () => Promise<T> | T): Promise<T>;
    snapshot(): ResourceSchedulerSnapshot;
    planVramBudget(request: ResourceRequest): VramBudgetPlan;
    private scheduleDrain;
    private drainQueue;
    private release;
    private canGrant;
    private selectModelSwapAction;
    private availableVramMB;
    private loadedModelsVramMB;
    private removeExpiredPending;
    private ensureModelLoaded;
    private evictModelsIfNeeded;
    private pinModel;
    private unpinModel;
    private touchModel;
    private isTrainingKind;
    private hasActiveTrainingTask;
    private hasActiveInferenceTask;
    private addToWarmPool;
    private pruneWarmPool;
    private recordSnapshot;
}
